'use strict';

const utils = require('../../utils');

<<<<<<< Updated upstream
function applyGlobalMaxTimeMS(options, model) {
  applyGlobalOption(options, model, 'maxTimeMS');
}

function applyGlobalDiskUse(options, model) {
  applyGlobalOption(options, model, 'allowDiskUse');
=======
function applyGlobalMaxTimeMS(options, connectionOptions, baseOptions) {
  applyGlobalOption(options, connectionOptions, baseOptions, 'maxTimeMS');
}

function applyGlobalDiskUse(options, connectionOptions, baseOptions) {
  applyGlobalOption(options, connectionOptions, baseOptions, 'allowDiskUse');
>>>>>>> Stashed changes
}

module.exports = {
  applyGlobalMaxTimeMS,
  applyGlobalDiskUse
};


<<<<<<< Updated upstream
function applyGlobalOption(options, model, optionName) {
=======
function applyGlobalOption(options, connectionOptions, baseOptions, optionName) {
>>>>>>> Stashed changes
  if (utils.hasUserDefinedProperty(options, optionName)) {
    return;
  }

<<<<<<< Updated upstream
  if (utils.hasUserDefinedProperty(model.db.options, optionName)) {
    options[optionName] = model.db.options[optionName];
  } else if (utils.hasUserDefinedProperty(model.base.options, optionName)) {
    options[optionName] = model.base.options[optionName];
=======
  if (utils.hasUserDefinedProperty(connectionOptions, optionName)) {
    options[optionName] = connectionOptions[optionName];
  } else if (utils.hasUserDefinedProperty(baseOptions, optionName)) {
    options[optionName] = baseOptions[optionName];
>>>>>>> Stashed changes
  }
}
